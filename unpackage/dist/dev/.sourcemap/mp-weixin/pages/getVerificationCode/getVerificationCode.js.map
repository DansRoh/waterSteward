{"version":3,"sources":["uni-app:///main.js","webpack:////Users/likm/AllProject/uniappProject/waterSteward/pages/getVerificationCode/getVerificationCode.vue?44c6","webpack:////Users/likm/AllProject/uniappProject/waterSteward/pages/getVerificationCode/getVerificationCode.vue?7c88","webpack:////Users/likm/AllProject/uniappProject/waterSteward/pages/getVerificationCode/getVerificationCode.vue?6ad6","webpack:////Users/likm/AllProject/uniappProject/waterSteward/pages/getVerificationCode/getVerificationCode.vue?9b06","uni-app:///pages/getVerificationCode/getVerificationCode.vue","webpack:////Users/likm/AllProject/uniappProject/waterSteward/pages/getVerificationCode/getVerificationCode.vue?1afc"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","Boolean","veriCode","_isMounted","e0","e","phoneNum","detail","e1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","vericodeBtnText","isVericodeBtnDisable","methods","handleClickLogin","params","phone","code","statusCode","console","uni","url","title","icon","handleClickGetVericodeBtn","debug","num","vericodeBtnTimer","clearInterval"],"mappings":"uKAAA,MAGA,aACA,WAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,+ECLX,iIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,oDACZ,aAAAF,E,yCCvBf,sQ,gCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVC,QAAQ,GAAKP,EAAIQ,WACrBR,EAAIS,aACPT,EAAIU,GAAK,SAAUC,GACjBX,EAAIY,SAAWD,EAAEE,QAEnBb,EAAIc,GAAK,SAAUH,GACjBX,EAAIQ,SAAWG,EAAEE,SAGrBb,EAAIe,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLf,GAAIA,MAKRgB,GAAmB,EACnBC,EAAkB,GACtBtB,EAAOuB,eAAgB,G,gCCzBvB,wHAAi2B,eAAG,G,uJC2Bp2B,MAGA,CACAN,gBACA,OACAR,YACAe,wBACAC,wBACAZ,cAGAa,SACAC,4BAAA,gJAIA,OAHAC,GACAC,iBACAC,iBACA,SAIA,yDAFAb,SACAc,eAEAC,uBACA,SAEAC,+BACAA,cACAC,0BAEA,QAEAD,cACAC,2CAGAD,aACAE,aACAC,eAEA,0CA1BA,IA4BAC,qCAAA,kJAMA,OAJApB,GACAY,oBACAS,UAEA,SAGA,oEADAP,eAEA,SACAE,aACAE,gBACAC,eAIA,0BACA,0BACAG,KACAC,0BACA,OACA,0BACA,0BACAC,mBAEA,6BACAF,OAEA,gDA7BA,OAgCA,c,4DCpGA,wHAAgiD,eAAG,G","file":"pages/getVerificationCode/getVerificationCode.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/getVerificationCode/getVerificationCode.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./getVerificationCode.vue?vue&type=template&id=7b7edc78&\"\nvar renderjs\nimport script from \"./getVerificationCode.vue?vue&type=script&lang=js&\"\nexport * from \"./getVerificationCode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./getVerificationCode.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/getVerificationCode/getVerificationCode.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getVerificationCode.vue?vue&type=template&id=7b7edc78&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Boolean(\"\" + _vm.veriCode)\n  if (!_vm._isMounted) {\n    _vm.e0 = function (e) {\n      _vm.phoneNum = e.detail\n    }\n    _vm.e1 = function (e) {\n      _vm.veriCode = e.detail\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getVerificationCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getVerificationCode.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-getVerificationCode\">\r\n\t\t<view class=\"title\">\r\n\t\t\t<view class=\"title-content\">\r\n\t\t\t\t登录/注册\r\n\t\t\t</view>\r\n\t\t\t<view class=\"title-tip\">\r\n\t\t\t\t省心入户·鲜水管家欢迎你~\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"form-phone-verification\">\r\n\t\t\t<van-field :value=\"phoneNum\" type=\"number\" label=\"+86\" @change=\"(e)=>{phoneNum = e.detail}\" :border=\"false\" />\r\n\t\t\t<van-field :value=\"veriCode\" type=\"number\" @change=\"(e)=>{veriCode = e.detail}\" placeholder=\"请输入验证码\" center clearable label=\"验证码\"\r\n\t\t\t\t:border=\"false\" use-button-slot>\r\n\t\t\t\t<van-button :disabled=\"isVericodeBtnDisable\" type=\"primary\" size=\"small\" color=\"#fff\"\r\n\t\t\t\t\tcustom-style=\"color:#00D893\" @click=\"handleClickGetVericodeBtn\" slot=\"button\" class=\"get-vericode-btn\">\r\n\t\t\t\t\t{{vericodeBtnText}}\r\n\t\t\t\t</van-button>\r\n\t\t\t</van-field>\r\n\t\t\t<van-button :disabled=\"!Boolean(''+veriCode)\" @click=\"handleClickLogin\" class=\"login-btn\" type=\"primary\" block\r\n\t\t\t\tround>立即登录</van-button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapiregister\r\n\t} from '@/utils/api/login.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tveriCode: '', // 验证码\r\n\t\t\t\tvericodeBtnText: \"获取验证码\",\r\n\t\t\t\tisVericodeBtnDisable: false,\r\n\t\t\t\tphoneNum: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync handleClickLogin() {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tphone: this.phoneNum,\r\n\t\t\t\t\tcode: this.veriCode\r\n\t\t\t\t}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tstatusCode\r\n\t\t\t\t} = await this.$http('/consumer/session/sms', \"PUT\", params)\r\n\t\t\t\tconsole.log('res', data, statusCode)\r\n\t\t\t\tif (statusCode === 201) {\r\n\t\t\t\t\t// 登录成功\r\n\t\t\t\t\tuni.setStorageSync('isLogin', true)\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: '/pages/home/home'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (statusCode === 424) {\r\n\t\t\t\t\t// 用户未注册\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: \"/pages/writeUserInfo/writeUserInfo\"\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络错误',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync handleClickGetVericodeBtn() {\r\n\t\t\t\t// 发送请求\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tphone: '18672824015',\r\n\t\t\t\t\tdebug: true\r\n\t\t\t\t}\r\n\t\t\t\t// 获取验证码\r\n\t\t\t\tconst {\r\n\t\t\t\t\tstatusCode\r\n\t\t\t\t} = await this.$http('/consumer/verify_codes/register', \"POST\", data)\r\n\t\t\t\tif (statusCode !== 201) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取验证码失败',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.isVericodeBtnDisable = true;\r\n\t\t\t\tthis.vericodeBtnText = \"剩余60s\"\r\n\t\t\t\tlet num = 59\r\n\t\t\t\tconst vericodeBtnTimer = setInterval(() => {\r\n\t\t\t\t\tif (num === 0) {\r\n\t\t\t\t\t\tthis.vericodeBtnText = \"获取验证码\";\r\n\t\t\t\t\t\tthis.isVericodeBtnDisable = false\r\n\t\t\t\t\t\tclearInterval(vericodeBtnTimer);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.vericodeBtnText = \"剩余\" + num + \"s\"\r\n\t\t\t\t\t\tnum--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.page-getVerificationCode {\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding-top: 66rpx;\r\n\r\n\t\t.title {\r\n\t\t\twidth: 626rpx;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\talign-self: center;\r\n\t\t\tmargin-bottom: 90rpx;\r\n\r\n\t\t\t.title-content {\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: #262626;\r\n\t\t\t\t;\r\n\t\t\t}\r\n\r\n\t\t\t.title-tip {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #828698;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.form-phone-verification {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-self: center;\r\n\t\t\twidth: 656rpx;\r\n\r\n\t\t\t.get-vericode-btn {\r\n\t\t\t\tcolor: #00D893;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.login-btn {\r\n\t\t\t\tmargin-top: 64rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getVerificationCode.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./getVerificationCode.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}