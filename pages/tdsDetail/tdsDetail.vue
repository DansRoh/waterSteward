<template>
	<view class="page-tdsDetail">
		<uni-ec-canvas class="uni-ec-canvas" id="uni-ec-canvas" ref="uni-ec-canvas" canvas-id="uni-ec-canvas" :ec="ec"
			@inited="inited"></uni-ec-canvas>
	</view>
</template>


<script>
	// 此处将路径替换为你放置该组件的路径  
	import uniEcCanvas from '../../components/uni-ec-canvas/uni-ec-canvas.vue'

	export default {
		components: {
			uniEcCanvas
		},
		data() {
			const mockData = [{
					at: "2023-06-01 16:00:00",
					tds: 10,
				},
				{
					at: "2023-06-01 16:00:02",
					tds: 10,
				},
				{
					at: "2023-06-01 16:00:04",
					tds: 7,
				},
				{
					at: "2023-06-01 16:00:06",
					tds: 17,
				},
				{
					at: "2023-06-01 16:00:08",
					tds: 12,
				},
				{
					at: "2023-06-01 16:00:10",
					tds: 17,
				},
				{
					at: "2023-06-01 16:00:12",
					tds: 12,
				},
				{
					at: "2023-06-01 16:00:14",
					tds: 5,
				},
				{
					at: "2023-06-01 16:00:16",
					tds: 8,
				},
				{
					at: "2023-06-01 16:00:18",
					tds: 7,
				},
				{
					at: "2023-06-01 16:00:20",
					tds: 15,
				},
				{
					at: "2023-06-01 16:00:22",
					tds: 6,
				},
				{
					at: "2023-06-01 16:00:24",
					tds: 17,
				},
				{
					at: "2023-06-01 16:00:26",
					tds: 8,
				},
				{
					at: "2023-06-01 16:00:28",
					tds: 15,
				},
				{
					at: "2023-06-01 16:00:30",
					tds: 9,
				},
				{
					at: "2023-06-01 16:00:32",
					tds: 10,
				},
				{
					at: "2023-06-01 16:00:34",
					tds: 12,
				},
				{
					at: "2023-06-01 16:00:36",
					tds: 16,
				},
				{
					at: "2023-06-01 16:00:38",
					tds: 14,
				},
				{
					at: "2023-06-01 16:00:52",
					tds: 17,
				},
				{
					at: "2023-06-01 16:00:54",
					tds: 8,
				},
				{
					at: "2023-06-01 16:00:56",
					tds: 15,
				},
				{
					at: "2023-06-01 16:00:58",
					tds: 6,
				},
				{
					at: "2023-06-01 16:01:00",
					tds: 5,
				},
				{
					at: "2023-06-01 16:01:02",
					tds: 5,
				},
				{
					at: "2023-06-01 16:01:04",
					tds: 7,
				},
				{
					at: "2023-06-01 16:01:06",
					tds: 17,
				},
				{
					at: "2023-06-01 16:01:08",
					tds: 9,
				},
				{
					at: "2023-06-01 16:01:10",
					tds: 9,
				},
				{
					at: "2023-06-01 16:01:12",
					tds: 8,
				},
				{
					at: "2023-06-01 16:01:14",
					tds: 15,
				},
				{
					at: "2023-06-01 16:01:16",
					tds: 13,
				},
				{
					at: "2023-06-01 16:01:18",
					tds: 15,
				},
				{
					at: "2023-06-01 16:01:20",
					tds: 11,
				},
				{
					at: "2023-06-01 16:01:22",
					tds: 16,
				},
				{
					at: "2023-06-01 16:01:24",
					tds: 14,
				},
				{
					at: "2023-06-01 16:01:26",
					tds: 7,
				},
				{
					at: "2023-06-01 16:01:28",
					tds: 6,
				},
				{
					at: "2023-06-01 16:01:30",
					tds: 6,
				},
				{
					at: "2023-06-01 16:01:46",
					tds: 10,
				},
				{
					at: "2023-06-01 16:01:48",
					tds: 16,
				},
				{
					at: "2023-06-01 16:01:50",
					tds: 9,
				},
				{
					at: "2023-06-01 16:01:52",
					tds: 17,
				},
				{
					at: "2023-06-01 16:01:54",
					tds: 10,
				},
				{
					at: "2023-06-01 16:01:56",
					tds: 8,
				},
				{
					at: "2023-06-01 16:01:58",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:00",
					tds: 9,
				},
				{
					at: "2023-06-01 16:02:02",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:04",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:06",
					tds: 7,
				},
				{
					at: "2023-06-01 16:02:08",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:10",
					tds: 10,
				},
				{
					at: "2023-06-01 16:02:12",
					tds: 10,
				},
				{
					at: "2023-06-01 16:02:14",
					tds: 13,
				},
				{
					at: "2023-06-01 16:02:16",
					tds: 8,
				},
				{
					at: "2023-06-01 16:02:18",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:20",
					tds: 15,
				},
				{
					at: "2023-06-01 16:02:22",
					tds: 13,
				},
				{
					at: "2023-06-01 16:02:24",
					tds: 7,
				},
				{
					at: "2023-06-01 16:02:30",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:32",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:34",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:36",
					tds: 10,
				},
				{
					at: "2023-06-01 16:02:38",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:40",
					tds: 17,
				},
				{
					at: "2023-06-01 16:02:42",
					tds: 5,
				},
				{
					at: "2023-06-01 16:02:44",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:46",
					tds: 15,
				},
				{
					at: "2023-06-01 16:02:48",
					tds: 14,
				},
				{
					at: "2023-06-01 16:02:50",
					tds: 5,
				},
				{
					at: "2023-06-01 16:02:52",
					tds: 6,
				},
				{
					at: "2023-06-01 16:02:54",
					tds: 12,
				},
				{
					at: "2023-06-01 16:02:56",
					tds: 14,
				},
				{
					at: "2023-06-01 16:02:58",
					tds: 17,
				},
				{
					at: "2023-06-01 16:03:00",
					tds: 9,
				},
				{
					at: "2023-06-01 16:03:02",
					tds: 14,
				},
				{
					at: "2023-06-01 16:03:04",
					tds: 13,
				},
				{
					at: "2023-06-01 16:03:06",
					tds: 5,
				},
				{
					at: "2023-06-01 16:03:08",
					tds: 12,
				},
				{
					at: "2023-06-01 16:03:22",
					tds: 12,
				},
				{
					at: "2023-06-01 16:03:24",
					tds: 14,
				},
				{
					at: "2023-06-01 16:03:26",
					tds: 13,
				},
				{
					at: "2023-06-01 16:03:28",
					tds: 16,
				},
				{
					at: "2023-06-01 16:03:30",
					tds: 9,
				},
				{
					at: "2023-06-01 16:03:32",
					tds: 17,
				},
				{
					at: "2023-06-01 16:03:34",
					tds: 6,
				},
				{
					at: "2023-06-01 16:03:36",
					tds: 6,
				},
				{
					at: "2023-06-01 16:03:38",
					tds: 17,
				},
				{
					at: "2023-06-01 16:03:40",
					tds: 16,
				},
				{
					at: "2023-06-01 16:03:42",
					tds: 13,
				},
				{
					at: "2023-06-01 16:03:44",
					tds: 9,
				},
				{
					at: "2023-06-01 16:03:46",
					tds: 6,
				},
				{
					at: "2023-06-01 16:03:48",
					tds: 11,
				},
				{
					at: "2023-06-01 16:03:50",
					tds: 17,
				},
				{
					at: "2023-06-01 16:03:52",
					tds: 12,
				},
				{
					at: "2023-06-01 16:03:54",
					tds: 6,
				},
				{
					at: "2023-06-01 16:03:56",
					tds: 14,
				},
				{
					at: "2023-06-01 16:03:58",
					tds: 15,
				},
				{
					at: "2023-06-01 16:04:00",
					tds: 17,
				},
				{
					at: "2023-06-05 16:00:00",
					tds: 12,
				},
				{
					at: "2023-06-05 16:00:02",
					tds: 16,
				},
				{
					at: "2023-06-05 16:00:04",
					tds: 14,
				},
				{
					at: "2023-06-05 16:00:06",
					tds: 9,
				},
				{
					at: "2023-06-05 16:00:08",
					tds: 15,
				},
				{
					at: "2023-06-05 16:00:10",
					tds: 17,
				},
				{
					at: "2023-06-05 16:00:12",
					tds: 10,
				},
				{
					at: "2023-06-05 16:00:14",
					tds: 6,
				},
				{
					at: "2023-06-05 16:00:16",
					tds: 11,
				},
				{
					at: "2023-06-05 16:00:18",
					tds: 10,
				},
				{
					at: "2023-06-05 16:00:20",
					tds: 10,
				},
				{
					at: "2023-06-05 16:00:22",
					tds: 17,
				},
				{
					at: "2023-06-05 16:00:24",
					tds: 16,
				},
				{
					at: "2023-06-05 16:00:26",
					tds: 10,
				},
				{
					at: "2023-06-05 16:00:28",
					tds: 14,
				},
				{
					at: "2023-06-05 16:00:30",
					tds: 8,
				},
				{
					at: "2023-06-05 16:00:32",
					tds: 9,
				},
				{
					at: "2023-06-05 16:00:34",
					tds: 12,
				},
				{
					at: "2023-06-05 16:00:36",
					tds: 15,
				},
				{
					at: "2023-06-05 16:00:38",
					tds: 15,
				},
				{
					at: "2023-06-05 16:00:48",
					tds: 7,
				},
				{
					at: "2023-06-05 16:00:50",
					tds: 11,
				},
				{
					at: "2023-06-05 16:00:52",
					tds: 6,
				},
				{
					at: "2023-06-05 16:00:54",
					tds: 8,
				},
				{
					at: "2023-06-05 16:00:56",
					tds: 13,
				},
				{
					at: "2023-06-05 16:00:58",
					tds: 7,
				},
				{
					at: "2023-06-05 16:01:00",
					tds: 11,
				},
				{
					at: "2023-06-05 16:01:02",
					tds: 15,
				},
				{
					at: "2023-06-05 16:01:04",
					tds: 8,
				},
				{
					at: "2023-06-05 16:01:06",
					tds: 5,
				},
				{
					at: "2023-06-05 16:01:08",
					tds: 10,
				},
				{
					at: "2023-06-05 16:01:10",
					tds: 6,
				},
				{
					at: "2023-06-05 16:01:12",
					tds: 6,
				},
				{
					at: "2023-06-05 16:01:14",
					tds: 10,
				},
				{
					at: "2023-06-05 16:01:16",
					tds: 5,
				},
				{
					at: "2023-06-05 16:01:18",
					tds: 11,
				},
				{
					at: "2023-06-05 16:01:20",
					tds: 7,
				},
				{
					at: "2023-06-05 16:01:22",
					tds: 9,
				},
				{
					at: "2023-06-05 16:01:24",
					tds: 7,
				},
				{
					at: "2023-06-05 16:01:26",
					tds: 9,
				},
				{
					at: "2023-06-05 16:01:46",
					tds: 10,
				},
				{
					at: "2023-06-05 16:01:48",
					tds: 6,
				},
				{
					at: "2023-06-05 16:01:50",
					tds: 17,
				},
				{
					at: "2023-06-05 16:01:52",
					tds: 12,
				},
				{
					at: "2023-06-05 16:01:54",
					tds: 17,
				},
				{
					at: "2023-06-05 16:01:56",
					tds: 12,
				},
				{
					at: "2023-06-05 16:01:58",
					tds: 13,
				},
				{
					at: "2023-06-05 16:02:00",
					tds: 5,
				},
				{
					at: "2023-06-05 16:02:02",
					tds: 7,
				},
				{
					at: "2023-06-05 16:02:04",
					tds: 15,
				},
				{
					at: "2023-06-05 16:02:06",
					tds: 17,
				},
				{
					at: "2023-06-05 16:02:08",
					tds: 17,
				},
				{
					at: "2023-06-05 16:02:10",
					tds: 15,
				},
				{
					at: "2023-06-05 16:02:12",
					tds: 10,
				},
				{
					at: "2023-06-05 16:02:14",
					tds: 12,
				},
				{
					at: "2023-06-05 16:02:16",
					tds: 7,
				},
				{
					at: "2023-06-05 16:02:18",
					tds: 12,
				},
				{
					at: "2023-06-05 16:02:20",
					tds: 5,
				},
				{
					at: "2023-06-05 16:02:22",
					tds: 5,
				},
				{
					at: "2023-06-05 16:02:24",
					tds: 7,
				},
				{
					at: "2023-06-05 16:02:40",
					tds: 5,
				},
				{
					at: "2023-06-05 16:02:42",
					tds: 13,
				},
				{
					at: "2023-06-05 16:02:44",
					tds: 17,
				},
				{
					at: "2023-06-05 16:02:46",
					tds: 11,
				},
				{
					at: "2023-06-05 16:02:48",
					tds: 11,
				},
				{
					at: "2023-06-05 16:02:50",
					tds: 11,
				},
				{
					at: "2023-06-05 16:02:52",
					tds: 7,
				},
				{
					at: "2023-06-05 16:02:54",
					tds: 8,
				},
				{
					at: "2023-06-05 16:02:56",
					tds: 17,
				},
				{
					at: "2023-06-05 16:02:58",
					tds: 15,
				},
				{
					at: "2023-06-05 16:03:00",
					tds: 16,
				},
				{
					at: "2023-06-05 16:03:02",
					tds: 17,
				},
				{
					at: "2023-06-05 16:03:04",
					tds: 9,
				},
				{
					at: "2023-06-05 16:03:06",
					tds: 17,
				},
				{
					at: "2023-06-05 16:03:08",
					tds: 15,
				},
				{
					at: "2023-06-05 16:03:10",
					tds: 5,
				},
				{
					at: "2023-06-05 16:03:12",
					tds: 5,
				},
				{
					at: "2023-06-05 16:03:14",
					tds: 6,
				},
				{
					at: "2023-06-05 16:03:16",
					tds: 15,
				},
				{
					at: "2023-06-05 16:03:18",
					tds: 14,
				},
				{
					at: "2023-06-05 16:03:34",
					tds: 17,
				},
				{
					at: "2023-06-05 16:03:36",
					tds: 11,
				},
				{
					at: "2023-06-05 16:03:38",
					tds: 17,
				},
				{
					at: "2023-06-05 16:03:40",
					tds: 17,
				},
				{
					at: "2023-06-05 16:03:42",
					tds: 11,
				},
				{
					at: "2023-06-05 16:03:44",
					tds: 7,
				},
				{
					at: "2023-06-05 16:03:46",
					tds: 5,
				},
				{
					at: "2023-06-05 16:03:48",
					tds: 16,
				},
				{
					at: "2023-06-05 16:03:50",
					tds: 15,
				},
				{
					at: "2023-06-05 16:03:52",
					tds: 10,
				},
				{
					at: "2023-06-05 16:03:54",
					tds: 5,
				},
				{
					at: "2023-06-05 16:03:56",
					tds: 8,
				},
				{
					at: "2023-06-05 16:03:58",
					tds: 16,
				},
				{
					at: "2023-06-05 16:04:00",
					tds: 5,
				},
				{
					at: "2023-06-05 16:04:02",
					tds: 17,
				},
				{
					at: "2023-06-05 16:04:04",
					tds: 5,
				},
				{
					at: "2023-06-05 16:04:06",
					tds: 11,
				},
				{
					at: "2023-06-05 16:04:08",
					tds: 8,
				},
				{
					at: "2023-06-05 16:04:10",
					tds: 9,
				},
				{
					at: "2023-06-05 16:04:12",
					tds: 13,
				},
			];

			const mockTimeData = mockData.map((item) => {
				return item.at.replace('2023-', '');
			})
			const mockValueData = mockData.map(item => {
				return item.tds
			})
			return {
				tdsData:[],
				ec: {
					option: {
						title: {
							text: 'tds',
							left: 'center'
						},
						tooltip: {
							trigger: 'axis',
							axisPointer: {
								animation: false
							}
						},
						legend: {
							data: ['当前月份tds值统计'],
							left: 10
						},
						dataZoom: [{
								show: true,
								realtime: true,
								start: 30,
								end: 70,
								xAxisIndex: [0]
							},
							{
								type: 'inside',
								realtime: true,
								start: 30,
								end: 70,
								xAxisIndex: [0]
							}
						],
						grid: [{
								left: 60,
								right: 50,
								height: '35%'
							},
							{
								left: 60,
								right: 50,
								top: '55%',
								height: '35%'
							}
						],
						xAxis: [{
							type: 'category',
							boundaryGap: false,
							axisLine: {
								onZero: true
							},
							data: mockTimeData
						}],
						yAxis: [{
							name: 'tds',
							type: 'value',
							max: 30
						}],
						series: [{
							name: 'tds',
							type: 'line',
							symbolSize: 8,
							// prettier-ignore
							data: mockValueData
						}]
					}
				},
				devId: null,
			}
		},
		onShow() {
			
		},
		onLoad(option) {
			this.devId = option.devId
		},
		methods: {
			inited(chart) {
				console.log('图表初始化完毕')
				console.log('chart实例', chart)
			},
			// 获取tds数据
			async gettdsData() {
				const {data, statusCode } = await this.$http(`/consumer/devices/${this.devId}/tds`, {
				})
			}
		}
	}
</script>

<style lang="less">
	.page-tdsDetail {
		width: 100vw;
		height: 500rpx;

		.uni-ec-canvas {
			width: 100%;
			height: 100%;
			display: block;
		}
	}
</style>